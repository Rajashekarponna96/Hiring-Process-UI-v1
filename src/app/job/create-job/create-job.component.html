<div class="container mt-4">
  <div class="card shadow-sm">
      <div class="card-body">
          <h4 class="card-title mb-4">Create a New Job </h4>
          <form #jobForm="ngForm" (ngSubmit)="addJob()">
              <div class="row">

                  <!-- Title -->
                  <div class="form-group col-md-6">
                      <label for="title">Title <span *ngIf="!job.title" class="text-danger">*</span></label>
                      <input id="title" name="title" type="text" class="form-control" placeholder="Enter Job Title" [(ngModel)]="job.title" required minlength="2" maxlength="50" #title="ngModel">
                      <div *ngIf="title.invalid && (title.dirty || title.touched)" class="invalid-feedback d-block">
                          <div *ngIf="title.errors?.required">Title is required</div>
                      </div>
                  </div>

                  <!-- Description -->
                  <div class="form-group col-md-6">
                      <label for="description">Description <span *ngIf="!job.description" class="text-danger">*</span></label>
                      <textarea id="description" name="description" class="form-control" placeholder="Enter Job Description" [(ngModel)]="job.description" required minlength="2" #description="ngModel"></textarea>
                      <div *ngIf="description.invalid && (description.dirty || description.touched)" class="invalid-feedback d-block">
                          <div *ngIf="description.errors?.required">Description is required</div>
                      </div>
                  </div>

                  <!-- Primary Skills -->
                  <div class="form-group col-md-6">
                      <label for="primarySkills">Primary Skills <span *ngIf="!job.primarySkills" class="text-danger">*</span></label>
                      <input id="primarySkills" name="primarySkills" type="text" class="form-control" placeholder="Enter Primary Skills" [(ngModel)]="job.primarySkills" required #primarySkills="ngModel">
                      <div *ngIf="primarySkills.invalid && (primarySkills.dirty || primarySkills.touched)" class="invalid-feedback d-block">
                          <div *ngIf="primarySkills.errors?.required">Primary Skills is required</div>
                      </div>
                  </div>

                  <!-- Secondary Skills -->
                  <div class="form-group col-md-6">
                      <label for="secondarySkills">Secondary Skills <span *ngIf="!job.secondarySkills" class="text-danger">*</span></label>
                      <input id="secondarySkills" name="secondarySkills" type="text" class="form-control" placeholder="Enter Secondary Skills" [(ngModel)]="job.secondarySkills" required #secondarySkills="ngModel">
                      <div *ngIf="secondarySkills.invalid && (secondarySkills.dirty || secondarySkills.touched)" class="invalid-feedback d-block">
                          <div *ngIf="secondarySkills.errors?.required">Secondary Skills is required</div>
                      </div>
                  </div>

                  <!-- Good To Have -->
                  <div class="form-group col-md-6">
                      <label for="goodToHave">Good To Have <span *ngIf="!job.goodToHave" class="text-danger">*</span></label>
                      <input id="goodToHave" name="goodToHave" type="text" class="form-control" placeholder="Enter Good To Have" [(ngModel)]="job.goodToHave" required #goodToHave="ngModel">
                      <div *ngIf="goodToHave.invalid && (goodToHave.dirty || goodToHave.touched)" class="invalid-feedback d-block">
                          <div *ngIf="goodToHave.errors?.required">Good To Have is required</div>
                      </div>
                  </div>

                  <!-- Department -->
                  <div class="form-group col-md-6">
                      <label for="department">Department <span *ngIf="!selectedDepartments" class="text-danger">*</span></label>
                      <select id="department" name="department" class="form-control" [(ngModel)]="selectedDepartments" (change)="onDepartmentChange($event.target.value)">
                          <option *ngFor="let department of departments" [value]="department.name">{{ department.name }}</option>
                      </select>
                      <div *ngIf="!selectedDepartments && (jobForm.controls['department'].touched || jobForm.controls['department'].dirty)" class="invalid-feedback d-block">
                          Department is required
                      </div>
                  </div>

                  <!-- Client Name -->
                  <div class="form-group col-md-6">
                      <label for="clients">Client Name <span *ngIf="!selectedClients" class="text-danger">*</span></label>
                      <select id="clients" name="clients" class="form-control" [(ngModel)]="selectedClients" (change)="onClientChange($event.target.value)">
                          <option *ngFor="let client of clients" [value]="client.companyName">{{ client.companyName }}</option>
                      </select>
                  </div>

                  <!-- Openings -->
                  <div class="form-group col-md-6">
                      <label for="openings">Openings <span *ngIf="!job.openings" class="text-danger">*</span></label>
                      <input id="openings" name="openings" type="number" class="form-control" placeholder="Enter Number of Openings" [(ngModel)]="job.openings" required #openings="ngModel" min="1">
                      <div *ngIf="openings.invalid && (openings.dirty || openings.touched)" class="invalid-feedback d-block">
                          <div *ngIf="openings.errors?.required">Openings is required</div>
                      </div>
                  </div>

                  <!-- Target Hire Date -->
                  <div class="form-group col-md-6">
                      <label for="targetHireDate">Target Hire Date <span class="text-danger">*</span></label>
                      <input id="targetHireDate" name="targetHireDate" type="date" class="form-control" [(ngModel)]="job.targetHireDate" required #targetHireDate="ngModel" [min]="todayDate()">
                      <div *ngIf="targetHireDate.invalid && (targetHireDate.dirty || targetHireDate.touched)" class="invalid-feedback d-block">
                          <div *ngIf="targetHireDate.errors?.required">Target Hire Date is required</div>
                      </div>
                  </div>

                  <!-- Currency -->
                  <div class="form-group col-md-6">
                      <label for="currency">Currency <span *ngIf="!selectedCurrencys" class="text-danger">*</span></label>
                      <select id="currency" name="currency" class="form-control" [(ngModel)]="selectedCurrencys" (change)="onCurrencyChange($event.target.value)">
                          <option *ngFor="let currency of currencys" [value]="currency.name">{{ currency.name }}</option>
                      </select>
                  </div>

                  <!-- Salary Maximum -->
                  <div class="form-group col-md-6">
                      <label for="salaryMaximum">Salary Maximum <span *ngIf="!job.salaryMaximum" class="text-danger">*</span></label>
                      <input id="salaryMaximum" name="salaryMaximum" type="number" class="form-control" placeholder="Enter Maximum Salary" [(ngModel)]="job.salaryMaximum" required #salaryMaximum="ngModel" min="0">
                      <div *ngIf="salaryMaximum.invalid && (salaryMaximum.dirty || salaryMaximum.touched)" class="invalid-feedback d-block">
                          <div *ngIf="salaryMaximum.errors?.required">Salary Maximum is required</div>
                      </div>
                  </div>

                  <!-- Job Type -->
                  <div class="form-group col-md-6">
                      <label for="type">Job Type <span *ngIf="!job.type" class="text-danger">*</span></label>
                      <select id="type" name="type" class="form-control" [(ngModel)]="job.type" #type="ngModel">
                          <option *ngFor="let type of types" [value]="type.name">{{ type.name }}</option>
                      </select>
                  </div>

                  <!-- Location -->
                  <div class="form-group col-md-6">
                      <label for="locations">Location <span *ngIf="!job.locations" class="text-danger">*</span></label>
                      <input id="locations" name="locations" type="text" class="form-control" placeholder="Enter Job Location" [(ngModel)]="job.locations" required #locations="ngModel">
                      <div *ngIf="locations.invalid && (locations.dirty || locations.touched)" class="invalid-feedback d-block">
                          <div *ngIf="locations.errors?.required">Location is required</div>
                      </div>
                  </div>

                  <!-- Experience -->
                  <div class="form-group col-md-6">
                      <label for="experience">Experience <span *ngIf="!job.experience" class="text-danger">*</span></label>
                      <input id="experience" name="experience" type="text" class="form-control" placeholder="Enter Required Experience" [(ngModel)]="job.experience" required #experience="ngModel">
                      <div *ngIf="experience.invalid && (experience.dirty || experience.touched)" class="invalid-feedback d-block">
                          <div *ngIf="experience.errors?.required">Experience is required</div>
                      </div>
                  </div>

                  <!-- Recruiter -->
                  <div class="form-group col-md-6">
                      <label for="recruiters">Recruiter <span *ngIf="!selectedRecruiters" class="text-danger">*</span></label>
                      <select id="recruiters" name="recruiters" class="form-control" [(ngModel)]="selectedRecruiters" (change)="onRecruiterChange($event.target.value)">
                          <option *ngFor="let recruiter of recruiters" [value]="recruiter.firstName">{{ recruiter.firstName }}</option>
                      </select>
                  </div>

                  <!-- Expected Notice Period -->
                  <div class="form-group col-md-6">
                      <label for="expectedNoticePeriod">Expected Notice Period <span *ngIf="!job.expectedNoticePeriod" class="text-danger">*</span></label>
                      <input id="expectedNoticePeriod" name="expectedNoticePeriod" type="text" class="form-control" placeholder="Enter Expected Notice Period" [(ngModel)]="job.expectedNoticePeriod" required #expectedNoticePeriod="ngModel">
                      <div *ngIf="expectedNoticePeriod.invalid && (expectedNoticePeriod.dirty || expectedNoticePeriod.touched)" class="invalid-feedback d-block">
                          <div *ngIf="expectedNoticePeriod.errors?.required">Expected Notice Period is required</div>
                      </div>
                  </div>
              </div>

              <div class="text-right mt-4">
                  <button type="submit" class="btn btn-primary">Save Job</button>
                  <a routerLink="/jobs" class="btn btn-danger ml-2">Cancel</a>
              </div>
          </form>
      </div>
  </div>
</div>
